<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Arial:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Integer Programming," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Assume we need to solve a mixed integer linear program (MILP), and the feasible region is $S\subseteq R^{n_1}\times Z^{n_2}$.  For some reasons we don’t have a simple formulation of $S$, and we want t">
<meta property="og:type" content="article">
<meta property="og:title" content="Integer Programming Note II: Formulation Strength & Size">
<meta property="og:url" content="http://hanqiu92.github.io/2016/10/04/IP2/index.html">
<meta property="og:site_name" content="Han's Blog">
<meta property="og:description" content="Assume we need to solve a mixed integer linear program (MILP), and the feasible region is $S\subseteq R^{n_1}\times Z^{n_2}$.  For some reasons we don’t have a simple formulation of $S$, and we want t">
<meta property="og:updated_time" content="2016-10-04T16:07:59.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Integer Programming Note II: Formulation Strength & Size">
<meta name="twitter:description" content="Assume we need to solve a mixed integer linear program (MILP), and the feasible region is $S\subseteq R^{n_1}\times Z^{n_2}$.  For some reasons we don’t have a simple formulation of $S$, and we want t">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://hanqiu92.github.io/2016/10/04/IP2/"/>

  <title> Integer Programming Note II: Formulation Strength & Size | Han's Blog </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Han's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">On transportation, optimization, and inference.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Integer Programming Note II: Formulation Strength & Size
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-10-04T11:30:00-04:00" content="2016-10-04">
              2016-10-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Lecture-Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Lecture Notes</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/04/IP2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/10/04/IP2/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Assume we need to solve a mixed integer linear program (MILP), and the feasible region is $S\subseteq R^{n_1}\times Z^{n_2}$.  For some reasons we don’t have a simple formulation of $S$, and we want to use some polyhedron $P=\{(x,y)\in R^{n_1+n_2}\times R^{m_1+m_2}: Ax+By\leqslant b\}$ and its subset $P_I=P\cap R^{n_1}\times Z^{n_2}\times R^{m_1}\times Z^{m_2}$ to represent $S$. Notice that we can use auxiliary variables $y$; these representation are called extended (sometimes we MUST have some integer variables $y$ to construct a valid formulation; in this case, the formulation is not extended). One important question is: what is a good representation?</p>
<a id="more"></a>
<p>It is clear that the projection of $P_I$ on $R^{n_1}\times Z^{n_2}$ should be the same as $S$, or we will either miss some feasible points, or include some infeasible points. In formal language, $P_I$ is a formulation of $S$ iff</p>
<p>$$S=Proj_x(P_I)$$</p>
<h2 id="Formulation-Strength-Integral-Ideal-Formulation-and-Sharp-Formulation"><a href="#Formulation-Strength-Integral-Ideal-Formulation-and-Sharp-Formulation" class="headerlink" title="Formulation Strength, Integral/Ideal Formulation, and Sharp Formulation"></a>Formulation Strength, Integral/Ideal Formulation, and Sharp Formulation</h2><p>In common approach to solve MILP, we will relax $P_I$ to $P$ and solve the “root” LP. Then we do branch and bound (B&amp;B) to force $y$ to be integer. One simple observation is that, if our LP solution $(x,y)$ is already in $P_I$, then we will save a lot of computation. This property is called (locally) integral/ideal, and is defined as:</p>
<p>$$ext(P)\subseteq R^{n_1}\times Z^{n_2}\times R^{m_1}\times Z^{m_2}.$$</p>
<p>In the above definition, $ext(P)$ is the set of all extreme point (and thus potential LP solution) in $P$.</p>
<p>Integrality is an important property. Many combinatorial optimization problem, including network flow and bipartite graph matching, can be formulated as an IP with integral formulation, and thus solved by standard LP solver. Sometimes, even if we cannot design or proof a globally integral formulation, we might still achieve great computational improvement by constructing ideal formulation for a subset of constraints.</p>
<p>Now we introduce a slightly weaker property. A formulation $P_I$ is called sharp, if</p>
<p>$$conv(S)=Proj_x(P).$$</p>
<p>In case of non-extended formulation, sharpness is equivalent with integrality; but when we have auxiliary variables, sharp formulation is not as good as integral ones. One major reason is that we might have an extreme point $(x,y)$ of $P$ with fractional $y$ for some integer variables. In this case, even if $x$ is optimal for $S$, we still need to do extra B&amp;B on $y$. But generally sharp formulation is good enough for practical use.</p>
<h2 id="Formulation-Size-and-Extended-Formulations"><a href="#Formulation-Size-and-Extended-Formulations" class="headerlink" title="Formulation Size and Extended Formulations"></a>Formulation Size and Extended Formulations</h2><p>Sometimes, formulation with only original variables needs to use a large number of linear constraints, while extended formulation can be much smaller. For example, consider</p>
<p>$$S=\{x\in Z^n: \sum_i|x_i|\leqslant 1\}.$$</p>
<p>If we are only allowed to use $x_i$ in the formulation, we need to use $2^n$ constraints:</p>
<p>$$\sum_i s_ix_i\leqslant 1, \forall s\in \{-1,1\}^n.$$</p>
<p>But if we consider auxiliary variables $y_i=|x_i|$, we only need $2n+1$ constraints:</p>
<p>$$\sum_i y_i\leqslant 1$$</p>
<p>and</p>
<p>$$-y_i\leqslant x_i\leqslant y_i, \forall i.$$</p>
<p>In general, projection of high dimensional object on subspace will have much complicate structure. One question we might ask is: how much gain we can make from using auxiliary variables?</p>
<p>Consider polyhedron $P=\{(x,y)\in R^{n+m}: Ax+By\leqslant b\}$. If we let $C=\{\mu\in R^l_+: B^T\mu=0\}$, then we have (by Farkas’ lemma)</p>
<p>$$\begin{aligned} Proj_x(P)&amp;=\{x\in R^n: \exists y\in R^m s.t. (x,y)\in P\}\\ &amp;=\{x\in R^n: \mu^TAx\leqslant \mu^Tb, \forall \mu\in ray(C)\}. \end{aligned}$$</p>
<p>Notice that $B^T$ is in size $m\times l$; so the size of $ray(C)$ is controlled by $m$ and $l$</p>
<p>$$Card(ray(C))\leqslant \binom{l}{m+1},$$</p>
<p>which is a polynomial of $l$ if $m$ is fixed. Thus, to have simple extended formulation, we need to use more auxiliary variables when the problem size increases.</p>
<p>There is also a proposition showing that, if we have some knowledge about the dimension of polytope $P$, we can give tighter bound on the formulation size. Consider the following definition:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1) The slack matrix of polytope $P=\{x\in R^n: Ax\leqslant b\}$, given $ext(P)=\{v_j\}^l$, is</p>
<p>$$S_{ij}=b_i-a^iv_j$$</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where $a^i$ is the $i$th row of $A$.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2) The non-negative rank of a matrix $S\in R_+^{m\times n}$ is the smallest $l$ s.t. $\exists U\in R_+^{m\times l}$ and $V_+^{l\times n}$, $S=UV$. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The non-negative rank of a polytope $P$ is the non-negative rank of its slack matrix.</p>
<p>Then, the proposition is:</p>
<p>For polytope $P\in R^n$ and its non-negative rank $l$, every extended formulation of $P$ has at least $l$ constraints, and there exists an extended formulation with $n+l$ variables and $O(n+l)$ constraints.</p>
<p>In practice, this proposition is not very useful since the decomposition $S=UV$ is a hard problem. But if the specific problem has good combinartorial structure and such decomposition exists in a natural way, then this proposition will be helpful in finding good extended formulation.</p>
<h2 id="Case-Study-Union-of-Polytopes"><a href="#Case-Study-Union-of-Polytopes" class="headerlink" title="Case Study: Union of Polytopes"></a>Case Study: Union of Polytopes</h2><p>Now let us turn to practical applications. We consider a simple problem: to construct a formulation of union of polytopes $\cup_i P_i$. First, we assume that we have access to both $H$-formulation and $V$-formulation of each polytope $P_i$:</p>
<p>$$\begin{aligned} P_i&amp;=\{x: A^ix\leqslant b_i\}\\ &amp;=\{x: x=\sum_j \lambda_{v_j} v_j, \sum_j \lambda_{v_j}=1,\lambda_{v_j}\in [0,1], v_j\in ext(P_i)\}. \end{aligned}$$</p>
<p>1) One traditional formulation technique is to make copies of $x$ for each $P_i$, and use auxiliary variables $y_i\in \{0,1\}$ to weight these copies. For $H$-formulation, this can be written as</p>
<p>$$\begin{aligned} A^ix^i&amp;\leqslant b^iy_i\\  \sum x^i &amp;= x\\  \sum y^i &amp;=1\\ y_i &amp;\in \{0,1\}, \forall i. \end{aligned}$$</p>
<p>For $V$-formulation, we can make copies of $\lambda_v$:</p>
<p>$$\begin{aligned} \sum_i\sum_v v\lambda_v^i &amp;=x\\  \sum_v \lambda_v^i &amp;= y_i\\  \sum y^i &amp;=1\\ \lambda^i &amp;\in R_+^{ext(P_i)} \\ y_i &amp;\in \{0,1\}, \forall i. \end{aligned}$$</p>
<p>Both formulations are integral; but we have constructed too many auxiliary variables. In case of complex $P_i$, these formulations can be huge, and runtime memory becomes an issue. So we might need to consider non-extended formulations. But if $P_i$ have simple forms, these formulations are very efficient (even though we can still improve it with encoding, which will be discussed in next post).</p>
<p>2)  To construct non-extended formulation, we need to construct a set of shared constraints for all $P_i$, and use binary variables $y_i$ to signal activation of tighter constraints for each $P_i$. For $H$-formulation, we can consider shared matrix</p>
<p>$$D= \begin{bmatrix} A_1\\  \vdots\\ A_n\end{bmatrix}$$</p>
<p>and formulation</p>
<p>$$\begin{aligned} Dx\space{}&amp;\leqslant \sum d^iy_i\\  \sum y^i &amp;=1\\ y_i&amp;\in \{0,1\}, \forall i. \end{aligned}$$</p>
<p>In general, to ensure feasibility, we need to use big-$M$ in rows of $d^i$ not belonging to $A_i$. Thus, in most of cases this formulation is neither ideal or sharp. Comparing with a global big-$M$, specific big-$M$ for each entry will lead to stronger formulation, but computation of these big-$M$ relies on actual structure of $P_i$ and might not be trivial.</p>
<p>To avoid the complexity of $A_i$, we can use $V$-formulation, where the structures of $\lambda_v$ are simplexes. Following the same shared constraints idea, $V$-formulation has a much simpler form:</p>
<p>$$\begin{aligned} \sum_i\sum_v v\lambda_v &amp;=x\\  \sum_v \lambda_v &amp;= 1\\  \lambda_v\space &amp; \leqslant \sum_{v\in ext(P_i)} y_i \\ \sum y^i &amp;=1\\  y_i &amp;\in \{0,1\}, \forall i. \end{aligned}$$</p>
<p>This formulation is sharp but not ideal; so it is not as strong as the extended ones, but have much smaller size. Comparing with non-extended $H$-formulation, it is much stronger. Also, we can add some constraints to make it ideal, by applying technique called  embedding, which will also be discussed in next post.</p>
<p>In summary, we discuss four different formulations based on different approaches. It is hard to tell which is the best in general, and decision should be made based on specific problem structure. A general advice is to try all formulation with small instance, select the best few, and put them into parallel computation in practice.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>Vielma, J. P. (2015). Mixed integer linear programming formulation techniques. SIAM Review, 57(1), 3-57.</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Integer-Programming/" rel="tag">#Integer Programming</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/04/IP1/" rel="next" title="Integer Programming Note I: Polyhedral Theory">
                <i class="fa fa-chevron-left"></i> Integer Programming Note I: Polyhedral Theory
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/04/IP3/" rel="prev" title="Integer Programming Note III: Encoding & Embedding">
                Integer Programming Note III: Encoding & Embedding <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avtar.png"
               alt="Han Qiu" />
          <p class="site-author-name" itemprop="name">Han Qiu</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">6</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/hanqiu92" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Formulation-Strength-Integral-Ideal-Formulation-and-Sharp-Formulation"><span class="nav-number">1.</span> <span class="nav-text">Formulation Strength, Integral/Ideal Formulation, and Sharp Formulation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Formulation-Size-and-Extended-Formulations"><span class="nav-number">2.</span> <span class="nav-text">Formulation Size and Extended Formulations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Case-Study-Union-of-Polytopes"><span class="nav-number">3.</span> <span class="nav-text">Case Study: Union of Polytopes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Han Qiu</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'hanqiu92';
      var disqus_identifier = '2016/10/04/IP2/';
      var disqus_title = "Integer Programming Note II: Formulation Strength & Size";
      var disqus_url = 'http://hanqiu92.github.io/2016/10/04/IP2/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  




  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

</body>
</html>
