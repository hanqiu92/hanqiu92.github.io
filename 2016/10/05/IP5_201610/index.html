<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">






  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Integer Programming," />










<meta name="description" content="Inner Approximation: $V$-representation, Dantzig-Wolfe decomposition, and Branch and PriceAssume we are given problem
$$\begin{aligned} z_I =\max &amp;amp; \ c^Tx \\ s.t. &amp;amp; \ A_1 x \leqslant b_1 \\  &amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="Integer Programming Note V: Decomposition">
<meta property="og:url" content="http://hanqiu92.github.io/2016/10/05/IP5_201610/index.html">
<meta property="og:site_name" content="Han's Blog">
<meta property="og:description" content="Inner Approximation: $V$-representation, Dantzig-Wolfe decomposition, and Branch and PriceAssume we are given problem
$$\begin{aligned} z_I =\max &amp;amp; \ c^Tx \\ s.t. &amp;amp; \ A_1 x \leqslant b_1 \\  &amp;">
<meta property="og:updated_time" content="2019-06-01T11:16:13.775Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Integer Programming Note V: Decomposition">
<meta name="twitter:description" content="Inner Approximation: $V$-representation, Dantzig-Wolfe decomposition, and Branch and PriceAssume we are given problem
$$\begin{aligned} z_I =\max &amp;amp; \ c^Tx \\ s.t. &amp;amp; \ A_1 x \leqslant b_1 \\  &amp;">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://hanqiu92.github.io/2016/10/05/IP5_201610/"/>





  <title>Integer Programming Note V: Decomposition | Han's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Han's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">About human behavior, reinforcement learning, and optimization.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hanqiu92.github.io/2016/10/05/IP5_201610/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Han Qiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pics/1.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Han's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Integer Programming Note V: Decomposition</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-05T00:06:00+08:00">
                2016-10-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Study-Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Study Notes</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        <h2 id="Inner-Approximation-V-representation-Dantzig-Wolfe-decomposition-and-Branch-and-Price"><a href="#Inner-Approximation-V-representation-Dantzig-Wolfe-decomposition-and-Branch-and-Price" class="headerlink" title="Inner Approximation: $V$-representation, Dantzig-Wolfe decomposition, and Branch and Price"></a>Inner Approximation: $V$-representation, Dantzig-Wolfe decomposition, and Branch and Price</h2><p>Assume we are given problem</p>
<p>$$\begin{aligned} z_I =\max &amp; \ c^Tx \\ s.t. &amp; \ A_1 x \leqslant b_1 \\  &amp; \ A_2 x \leqslant b_2\\ &amp; \ x \in R^{n_1} \times Z^{n_2} \end{aligned}$$</p>
<p>and we know that LP relaxation for $Q=\{A_2 x \leqslant b_2, x \in R^{n_1} \times Z^{n_2}\}$ is tight but that for the whole problem is weak. One can then think of dual approach utilizing the tighter local constraint structure:</p>
<a id="more"></a>
<p>$$z_{D}=\min \{z_{LR}(\lambda): \lambda\in R^{m_1}_+\}$$</p>
<p>with</p>
<p>$$z_{LR}(\lambda)=\max_{x\in Q} \{c^Tx+\lambda^T(b_1-A_1x)\geqslant z_I\},$$</p>
<p>which implies (by LP duality)</p>
<p>$$z_{D}=\max \{c^Tx: A_1x\leqslant b_1, x\in conv(Q)\}.$$</p>
<p>Assume we have set of extreme points $\{v_i\}_k$ for $conv(Q)$. Then</p>
<p>$$z_{LR}(\lambda)=\lambda^Tb_1+\max_i (c^T-\lambda^TA_1)v_i$$</p>
<p>is a piecewise linear function of $\lambda$ and thus $z_{D}$ can be obtained by dynamically finding better $v_i$. Notice that this is exactly the same as the column generation method with Dantzig-Wolfe decomposition of $conv(Q)$ for $z_D$.</p>
<p>Now, we can solve $z_I$ by branch and price: at each node in the branching tree, we keep solving the pricing problem, i.e, to find better extreme point $v_i$, and adding these new $v_i$ to the master problem until we reach the optimal $z_D$; then we do branch and bound on $x$ until $x\in Q$.</p>
<p>The above approach can be seen as inner approximation, since we use a subset of extreme points to approximate the polyhedron. But it is paradoxical that in branching process, we are actually using outer approximation. So in general branch and price is not straightforward and easy to implement. But for problems with natural approach for pricing subproblem, e.g., airline scheduling, or there is no good way to use $H$-representation of the feasible region, branch and price is still a good option.</p>
<h2 id="Outer-Approximation-H-representation-and-Benders-decomposition"><a href="#Outer-Approximation-H-representation-and-Benders-decomposition" class="headerlink" title="Outer Approximation: $H$-representation and Benders decomposition"></a>Outer Approximation: $H$-representation and Benders decomposition</h2><p>Compared to inner approximation, outer approximation aims at approximating the feasible region with fewer and simpler constraints. Then, valid cuts are generated dynamically by subproblem to push the optimum towards feasibility. Such approach is useful when not all constraints can be given explicitly. For example, consider the following problem:</p>
<p>$$\begin{aligned} z_I =\min &amp; \ c^Tx + d^Ty \\ s.t. &amp; \ A x + B y \geqslant b \\  &amp; \ x \in P_1\subseteq Z^{n_1} \\  &amp; \ y \in P_2\subseteq R^{n_2} \end{aligned}$$</p>
<p>and we want to decouple $y$ from $x$. We can define</p>
<p>$$\begin{aligned} g(x)= \min &amp; \ d^Ty\\ s.t. &amp; \ By\geqslant b-Ax\\ &amp; \ y\in P_2\\ \end{aligned}$$</p>
<p>then the problem will be transformed into</p>
<p>$$\begin{aligned} z_I= \min &amp; \ c^Tx+\theta\\ s.t. &amp; \ x\in Proj_x(\{(x,y): Ax+By\geqslant b\})\cup P_1\\ &amp; \ (x,\theta)\in epi(g)\\ \end{aligned}$$</p>
<p>In this case, both $Proj_x(\{Ax+By\geqslant b\})$ and $epi(g)$ can be very complex and no explicit $H$-representation is available. But recall that</p>
<p>$$Proj_x(\{(x,y): Ax+By\geqslant b\})=\{x: \mu^T(Ax-b)\geqslant 0, \forall \mu\in ray(C)\}$$</p>
<p>with $C=\{\mu\in R_+^m: B^T\mu=0\}$, while $g$ can be expressed in dual form</p>
<p>$$g(x)=\max \{v^T(b-Ax): v\in ext (Q)\}$$</p>
<p>with $Q=\{\mu\in R_+^m: B^T\mu=d\}$; so both set can be approximated by a collection of cuts (in same format). Thus, we can consider following outer approximation</p>
<p>$$\begin{aligned} z_I= \min &amp; \ c^Tx+\theta \\ s.t. &amp; \ u_i^T(b-Ax)\leqslant 0 \\ &amp; \ v_j^T(b-Ax)\leqslant \theta \\ \end{aligned}$$</p>
<p>with $u_i$ and $v_j$ can be generated dynamically by solving subproblem</p>
<p>$$\max \{v^T(b-Ax^*): v\in ext (Q)\}.$$</p>
<p>Notice that this is exactly the same as the Benders decomposition and row generation in LP.</p>
<h2 id="Nonlinear-MIP"><a href="#Nonlinear-MIP" class="headerlink" title="Nonlinear MIP"></a>Nonlinear MIP</h2><p>In the end, I briefly introduce nonlinear MIP, which is related to the approximation methods above. The first step to solve nonlinear MIP is to transform nonlinear objective into nonlinear constraints. Nonlinear objective is not preferred since normally in that case the optimum is located in the interior and branching is very complex. Then, there are three kinds of approach:</p>
<p>1) NLP based approach: at each branching node, solve the NLP directly with interior point method, and perform next branching if necessary. This kind of approach is common in standard NLP solvers.</p>
<p>2) LP based approach: this approach is similar to the outer approximation introduced above. The feasible region is approximated by many linear constraints, and in the solving process the optimal solution will get closer and closer to the feasible region. But this method may have slow convergence rate.</p>
<p>3) Lifted LP based approach: this approach also consider linear approximation, but after the nonlinear feasible region being lifted to higher dimensional space. The advantage of doing this is that fewer linear cuts is needed to achieve the same approximation ratio (recall the gain in formulation size of extended formulation). Currently this approach is widely applied in many MINLP solvers.</p>
<p>In general, if you have an MINLP problem, the first thing to check is whether the problem can be formulated with second order cone, which can be efficiently dealt with in CPLEX/Gurobi. Then, if the problem is convex in a disciplined way, you may try cvx or Pajarito (links can be found in the reference). For other cases, you can try NLP solvers or design ad-hoc heuristics, but no general performance can be guaranteed.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>Lubin, M., Yamangil, E., Bent, R., &amp; Vielma, J. P. (2015). Extended Formulations in Mixed-integer Convex Programming. arXiv:1511.06710. Available at: <a href="http://arxiv.org/pdf/1511.06710v3.pdf" target="_blank" rel="external">http://arxiv.org/pdf/1511.06710v3.pdf</a>.</p>
<p>Grant, M., Boyd, S., &amp; Ye, Y. (2008). CVX: Matlab software for disciplined convex programming. Available at: <a href="http://cvxr.com/cvx/" target="_blank" rel="external">http://cvxr.com/cvx/</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Integer-Programming/" rel="tag"># Integer Programming</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/05/IP4_201610/" rel="next" title="Integer Programming Note IV: Cuts">
                <i class="fa fa-chevron-left"></i> Integer Programming Note IV: Cuts
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/23/mexico_city_delay_201610/" rel="prev" title="Case Study: Delay in Mexico City">
                Case Study: Delay in Mexico City <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/pics/1.JPG"
                alt="Han Qiu" />
            
              <p class="site-author-name" itemprop="name">Han Qiu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/hanqiu92" target="_blank" title="Github">
                      
                        <i class="fa fa-fw fa-globe"></i>Github</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Inner-Approximation-V-representation-Dantzig-Wolfe-decomposition-and-Branch-and-Price"><span class="nav-number">1.</span> <span class="nav-text">Inner Approximation: $V$-representation, Dantzig-Wolfe decomposition, and Branch and Price</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Outer-Approximation-H-representation-and-Benders-decomposition"><span class="nav-number">2.</span> <span class="nav-text">Outer Approximation: $H$-representation and Benders decomposition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nonlinear-MIP"><span class="nav-number">3.</span> <span class="nav-text">Nonlinear MIP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Han Qiu</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://hanqiu92.github.io/2016/10/05/IP5_201610/';
          this.page.identifier = '2016/10/05/IP5_201610/';
          this.page.title = 'Integer Programming Note V: Decomposition';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://hanqiu92.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  

















  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
